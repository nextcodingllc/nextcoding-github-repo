<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nextcoding - IT Solutions & Software Development</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            overflow-x: hidden; 
            background-color: #f8fafc;
        }
        
        .header-scrolled { 
            background-color: rgba(255, 255, 255, 0.95); 
            backdrop-filter: blur(10px); 
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }
        
        .hero-section { 
            background: linear-gradient(to bottom, #f0f9ff, #e0f2fe);
            position: relative; 
            overflow: hidden; 
        }
        
        .lang-switcher { 
            border: 1px solid #cbd5e1; 
            padding: 4px; 
            border-radius: 9999px; 
            display: flex; 
            font-size: 0.8rem; 
            font-weight: 500; 
        }
        
        .lang-switcher .active { 
            background-color: #0284c7; 
            color: white; 
        }
        
        .lang-switcher button { 
            padding: 4px 10px; 
            border-radius: 9999px; 
            transition: all 0.2s ease-in-out; 
        }
        
        .gradient-text { 
            background: linear-gradient(to right, #38bdf8, #a78bfa); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
        
        .ai-section-bg { 
            background-color: #f0f9ff; 
            background-image: 
                linear-gradient(to right, rgba(2, 132, 199, 0.05) 1px, transparent 1px), 
                linear-gradient(to bottom, rgba(2, 132, 199, 0.05) 1px, transparent 1px); 
            background-size: 30px 30px; 
        }

        /* Cloud animation styles - optimized version */
        .cloud {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.9;
            filter: blur(4px);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
            z-index: 1;
        }
        
        .cloud:before, .cloud:after {
            content: '';
            position: absolute;
            background: white;
            border-radius: 50%;
        }
        
        .cloud1 {
            width: 180px;
            height: 55px;
            top: 15%;
            animation: moveClouds 40s linear infinite;
        }
        
        .cloud1:before {
            width: 90px;
            height: 90px;
            top: -45px;
            left: 15px;
        }
        
        .cloud1:after {
            width: 120px;
            height: 110px;
            top: -55px;
            right: 10px;
        }
        
        .cloud2 {
            width: 250px;
            height: 75px;
            top: 30%;
            animation: moveClouds 50s linear infinite;
            animation-delay: -10s;
        }
        
        .cloud2:before {
            width: 130px;
            height: 130px;
            top: -65px;
            left: 25px;
        }
        
        .cloud2:after {
            width: 170px;
            height: 150px;
            top: -75px;
            right: 15px;
        }
        
        .cloud3 {
            width: 200px;
            height: 60px;
            top: 65%;
            animation: moveClouds 45s linear infinite;
            animation-delay: -20s;
        }
        
        .cloud3:before {
            width: 100px;
            height: 100px;
            top: -50px;
            left: 20px;
        }
        
        .cloud3:after {
            width: 80px;
            height: 75px;
            top: -40px;
            right: 8px;
        }
        
        @keyframes moveClouds {
            0% { transform: translateX(-150%); }
            100% { transform: translateX(150vw); }
        }

        /* Service icons */
        .service-icon {
            transition: all 0.3s ease;
        }
        
        .service-card:hover .service-icon {
            transform: translateY(-5px) scale(1.05);
        }

        /* Portfolio grid */
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            justify-items: center;
        }
        
        .portfolio-item {
            position: relative;
            border-radius: 0.5rem;
            overflow: hidden;
            height: 250px;
            width: 100%;
            max-width: 350px;
            transition: transform 0.3s ease;
        }
        
        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .portfolio-item:hover img {
            transform: scale(1.05);
        }
        
        .portfolio-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(2, 132, 199, 0.85);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            padding: 1rem;
            text-align: center;
        }
        
        .portfolio-item:hover .portfolio-overlay {
            opacity: 1;
        }

        /* Testimonial Slider */
        .testimonial-slider { 
            display: flex; 
            transition: transform 0.5s ease-in-out; 
        }
        
        .testimonial-item { 
            min-width: 100%; 
        }
        
        /* Animation for elements on scroll */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Contact Section Specific Styles */
        .contact-form-card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Header -->
    <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#hero-section" class="text-2xl font-bold text-blue-800">Next<span class="text-sky-500">coding</span></a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#services" class="text-slate-600 hover:text-sky-500 transition-colors" data-lang-en="Services" data-lang-es="Servicios">Services</a>
                <a href="#process" class="text-slate-600 hover:text-sky-500 transition-colors" data-lang-en="Process" data-lang-es="Proceso">Process</a>
                <a href="#portfolio" class="text-slate-600 hover:text-sky-500 transition-colors" data-lang-en="Portfolio" data-lang-es="Portafolio">Portfolio</a>
                <a href="#contact" class="text-slate-600 hover:text-sky-500 transition-colors" data-lang-en="Contact" data-lang-es="Contacto">Contact</a>
                <div class="lang-switcher">
                    <button id="lang-en" data-lang="en">EN</button>
                    <button id="lang-es" data-lang="es">ES</button>
                </div>
            </nav>
            <a href="#contact" class="hidden md:block bg-blue-700 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-800 transition-transform hover:scale-105" data-lang-en="Request a Consultation" data-lang-es="Solicitar Consultoría">Request a Consultation</a>
            <button id="mobile-menu-button" class="md:hidden text-blue-800"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg></button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white">
            <a href="#services" class="block py-2 px-6 text-slate-600 hover:bg-sky-50" data-lang-en="Services" data-lang-es="Servicios">Services</a>
            <a href="#process" class="block py-2 px-6 text-slate-600 hover:bg-sky-50" data-lang-en="Process" data-lang-es="Proceso">Process</a>
            <a href="#portfolio" class="block py-2 px-6 text-slate-600 hover:bg-sky-50" data-lang-en="Portfolio" data-lang-es="Portafolio">Portfolio</a>
            <a href="#contact" class="block py-2 px-6 text-slate-600 hover:bg-sky-50" data-lang-en="Contact" data-lang-es="Contacto">Contact</a>
            <div class="flex justify-between items-center py-2 px-6">
                <div class="lang-switcher">
                    <button id="lang-en-mobile" data-lang="en">EN</button>
                    <button id="lang-es-mobile" data-lang="es">ES</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero-section" class="hero-section pt-40 pb-24">
            <div class="absolute top-0 left-0 w-full h-full z-0">
                <div class="cloud cloud1"></div>
                <div class="cloud cloud2"></div>
                <div class="cloud cloud3"></div>
            </div>
            <div class="container mx-auto px-6 text-center relative z-10">
                <h1 class="text-4xl md:text-6xl font-extrabold text-blue-900 leading-tight fade-in" data-lang-en="Building the Future of Your Business, Code by Code." data-lang-es="Construyendo el Futuro de tu Negocio, Código a Código.">Building the Future of Your Business, Code by Code.</h1>
                <p class="mt-4 text-lg md:text-xl max-w-3xl mx-auto text-slate-700 fade-in" data-lang-en="We provide custom software, cloud infrastructure, and process automation to drive your growth." data-lang-es="Proveemos software a medida, infraestructura en la nube y automatización de procesos para impulsar tu crecimiento.">We provide custom software, cloud infrastructure, and process automation to drive your growth.</p>
                <div class="mt-8 flex justify-center gap-4 fade-in" style="transition-delay: 0.2s">
                    <a href="#services" class="bg-sky-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-sky-600 transition-transform hover:scale-105" data-lang-en="Explore Services" data-lang-es="Explorar Servicios">Explore Services</a>
                    <a href="#contact" class="bg-white text-sky-600 font-bold py-3 px-8 rounded-full text-lg hover:bg-slate-100 transition-transform hover:scale-105 border border-slate-200" data-lang-en="Get in Touch" data-lang-es="Contáctanos">Get in Touch</a>
                </div>
            </div>
        </section>

        <!-- Featured Services -->
        <section id="services" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in">
                     <h2 class="text-3xl md:text-4xl font-bold text-blue-900" data-lang-en="Our Core Services" data-lang-es="Nuestros Servicios Principales">Our Core Services</h2>
                     <p class="mt-3 text-slate-600 max-w-2xl mx-auto" data-lang-en="Technology solutions designed to solve complex challenges and deliver tangible results." data-lang-es="Soluciones tecnológicas diseñadas para resolver desafíos complejos y entregar resultados tangibles.">Technology solutions designed to solve complex challenges and deliver tangible results.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Feature 1 -->
                    <div class="service-card text-center p-6 bg-slate-50 rounded-lg transition-transform hover:scale-105 hover:shadow-lg fade-in">
                        <div class="flex justify-center items-center mb-4 bg-sky-100 rounded-full w-16 h-16 mx-auto service-icon">
                            <svg class="text-sky-600 w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m18 16 4-4-4-4m-12 8-4-4 4-4m5.5-4-5 16"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2" data-lang-en="Software Development" data-lang-es="Desarrollo de Software">Software Development</h3>
                        <p class="text-slate-600" data-lang-en="Custom applications tailored to your specific business needs." data-lang-es="Aplicaciones a medida adaptadas a las necesidades de tu negocio.">Custom applications tailored to your specific business needs.</p>
                    </div>
                    <!-- Feature 2 -->
                    <div class="service-card text-center p-6 bg-slate-50 rounded-lg transition-transform hover:scale-105 hover:shadow-lg fade-in" style="transition-delay: 0.1s">
                        <div class="flex justify-center items-center mb-4 bg-sky-100 rounded-full w-16 h-16 mx-auto service-icon">
                            <svg class="text-sky-600 w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16.5V9.5m0 11.5a9 9 0 1 0 0-18 9 9 0 0 0 0 18ZM7 11.5h2m6 0h2"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2" data-lang-en="IT Consulting" data-lang-es="Consultoría IT">IT Consulting</h3>
                        <p class="text-slate-600" data-lang-en="Strategic guidance to align your technology with your business goals." data-lang-es="Guía estratégica para alinear tu tecnología con tus metas de negocio.">Strategic guidance to align your technology with your business goals.</p>
                    </div>
                    <!-- Feature 3 -->
                    <div class="service-card text-center p-6 bg-slate-50 rounded-lg transition-transform hover:scale-105 hover:shadow-lg fade-in" style="transition-delay: 0.2s">
                        <div class="flex justify-center items-center mb-4 bg-sky-100 rounded-full w-16 h-16 mx-auto service-icon">
                            <svg class="text-sky-600 w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2 2h20v8H2zm0 12h20v8H2zm4-8h.01M6 18h.01"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2" data-lang-en="Server Management" data-lang-es="Gestión de Servidores">Server Management</h3>
                        <p class="text-slate-600" data-lang-en="Reliable management of your physical and cloud infrastructure." data-lang-es="Administración fiable de tu infraestructura física y en la nube.">Reliable management of your physical and cloud infrastructure.</p>
                    </div>
                    <!-- Feature 4 -->
                    <div class="service-card text-center p-6 bg-slate-50 rounded-lg transition-transform hover:scale-105 hover:shadow-lg fade-in" style="transition-delay: 0.3s">
                        <div class="flex justify-center items-center mb-4 bg-sky-100 rounded-full w-16 h-16 mx-auto service-icon">
                            <svg class="text-sky-600 w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm0-6a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM12 2v2m0 16v2m-7.07-2.93 1.41 1.41M17.66 6.34l1.41 1.41M2 12h2m16 0h2m-2.93-7.07-1.41 1.41M6.34 17.66l-1.41 1.41"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-blue-900 mb-2" data-lang-en="Process Automation" data-lang-es="Automatización">Process Automation</h3>
                        <p class="text-slate-600" data-lang-en="We streamline your workflows to increase efficiency and reduce costs." data-lang-es="Optimizamos tus flujos de trabajo para aumentar la eficiencia.">We streamline your workflows to increase efficiency and reduce costs.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Portfolio Showcase -->
        <section id="portfolio" class="py-20 bg-slate-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in">
                    <h2 class="text-3xl md:text-4xl font-bold text-blue-900" data-lang-en="Our Work" data-lang-es="Nuestros Trabajos">Our Work</h2>
                    <p class="mt-3 text-slate-600 max-w-2xl mx-auto" data-lang-en="Explore some of our recent projects and success stories." data-lang-es="Explora algunos de nuestros proyectos recientes y casos de éxito.">Explore some of our recent projects and success stories.</p>
                </div>
                
                <div class="portfolio-grid">
                    <!-- Portfolio Item 1 -->
                    <div class="portfolio-item fade-in">
                        <img src="https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="E-commerce Platform" onerror="this.onerror=null;this.src='https://placehold.co/500x250/0284c7/ffffff?text=E-commerce';">
                        <div class="portfolio-overlay">
                            <h3 class="text-xl font-bold text-white" data-lang-en="E-commerce Platform" data-lang-es="Plataforma E-commerce">E-commerce Platform</h3>
                            <p class="text-slate-100 mt-2" data-lang-en="Custom online store with advanced features" data-lang-es="Tienda online personalizada con funciones avanzadas">Custom online store with advanced features</p>
                            <a href="#" class="mt-4 inline-block bg-white text-sky-600 font-medium py-2 px-4 rounded-lg hover:bg-slate-100 transition-colors" data-lang-en="View Project" data-lang-es="Ver Proyecto">View Project</a>
                        </div>
                    </div>
                    
                    <!-- Portfolio Item 2 -->
                    <div class="portfolio-item fade-in" style="transition-delay: 0.1s">
                        <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Business Dashboard" onerror="this.onerror=null;this.src='https://placehold.co/500x250/0284c7/ffffff?text=Dashboard';">
                        <div class="portfolio-overlay">
                            <h3 class="text-xl font-bold text-white" data-lang-en="Business Dashboard" data-lang-es="Dashboard Empresarial">Business Dashboard</h3>
                            <p class="text-slate-100 mt-2" data-lang-en="Real-time analytics and reporting system" data-lang-es="Sistema de análisis y reportes en tiempo real">Real-time analytics and reporting system</p>
                            <a href="#" class="mt-4 inline-block bg-white text-sky-600 font-medium py-2 px-4 rounded-lg hover:bg-slate-100 transition-colors" data-lang-en="View Project" data-lang-es="Ver Proyecto">View Project</a>
                        </div>
                    </div>
                    
                    <!-- Portfolio Item 3 -->
                    <div class="portfolio-item fade-in" style="transition-delay: 0.2s">
                        <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Mobile Application" onerror="this.onerror=null;this.src='https://placehold.co/500x250/0284c7/ffffff?text=Mobile+App';">
                        <div class="portfolio-overlay">
                            <h3 class="text-xl font-bold text-white" data-lang-en="Mobile Application" data-lang-es="Aplicación Móvil">Mobile Application</h3>
                            <p class="text-slate-100 mt-2" data-lang-en="Cross-platform app for customer engagement" data-lang-es="App multiplataforma para engagement de clientes">Cross-platform app for customer engagement</p>
                            <a href="#" class="mt-4 inline-block bg-white text-sky-600 font-medium py-2 px-4 rounded-lg hover:bg-slate-100 transition-colors" data-lang-en="View Project" data-lang-es="Ver Proyecto">View Project</a>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-12 fade-in" style="transition-delay: 0.3s">
                    <a href="#portfolio" class="inline-block bg-sky-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-sky-600 transition-transform hover:scale-105" data-lang-en="View All Projects" data-lang-es="Ver Todos los Proyectos">View All Projects</a>
                </div>
            </div>
        </section>
        
        <!-- Redesigned Section: Our Process -->
        <section id="process" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-16 fade-in">
                    <h2 class="text-3xl md:text-4xl font-bold text-blue-900" data-lang-en="Our Process" data-lang-es="Nuestro Proceso">Our Process</h2>
                    <p class="mt-3 text-slate-600 max-w-2xl mx-auto" data-lang-en="A proven path to successful project delivery, ensuring clarity and quality every step of the way." data-lang-es="Un camino probado para la entrega exitosa de proyectos, garantizando claridad y calidad en cada paso.">A proven path to successful project delivery, ensuring clarity and quality every step of the way.</p>
                </div>
                <div class="space-y-16">
                    <!-- Step 1 -->
                    <div class="grid md:grid-cols-2 gap-12 items-center fade-in">
                        <div class="flex justify-center">
                            <lottie-player 
                                src="https://lottie.host/804c1c27-c1d0-47b6-8e54-47201b1b3696/Q2n2a03k2d.json" 
                                background="transparent" 
                                speed="1" 
                                style="width: 100%; max-width: 400px; height: auto;" 
                                loop 
                                autoplay
                            ></lottie-player>
                        </div>
                        <div>
                            <span class="text-sky-500 font-bold" data-lang-en="Step 1" data-lang-es="Paso 1">Step 1</span>
                            <h3 class="text-2xl font-bold text-blue-900 my-2" data-lang-en="Discovery & Strategy" data-lang-es="Descubrimiento y Estrategia">Discovery & Strategy</h3>
                            <p class="text-slate-600" data-lang-en="We start with a deep dive into your business. We listen to your goals, understand your challenges, and analyze your requirements to build a comprehensive project roadmap." data-lang-es="Empezamos con una inmersión profunda en tu negocio. Escuchamos tus metas, entendemos tus desafíos y analizamos tus requisitos para construir una hoja de ruta completa para el proyecto.">We start with a deep dive into your business. We listen to your goals, understand your challenges, and analyze your requirements to build a comprehensive project roadmap.</p>
                        </div>
                    </div>
                    <!-- Step 2 -->
                    <div class="grid md:grid-cols-2 gap-12 items-center fade-in" style="transition-delay: 0.2s">
                        <div class="md:order-last flex justify-center">
                           <lottie-player 
                                src="https://lottie.host/29e1f578-838d-446a-a55e-389f46401053/k2C7Rbr5Jc.json" 
                                background="transparent" 
                                speed="1" 
                                style="width: 100%; max-width: 400px; height: auto;" 
                                loop 
                                autoplay
                            ></lottie-player>
                        </div>
                        <div>
                            <span class="text-sky-500 font-bold" data-lang-en="Step 2" data-lang-es="Paso 2">Step 2</span>
                            <h3 class="text-2xl font-bold text-blue-900 my-2" data-lang-en="Development & Iteration" data-lang-es="Desarrollo e Iteración">Development & Iteration</h3>
                            <p class="text-slate-600" data-lang-en="Our expert team brings the strategy to life, building your solution with agile methodologies. We maintain transparent communication with regular updates and feedback loops." data-lang-es="Nuestro equipo de expertos da vida a la estrategia, construyendo tu solución con metodologías ágiles. Mantenemos una comunicación transparente con actualizaciones regulares y ciclos de feedback.">Our expert team brings the strategy to life, building your solution with agile methodologies. We maintain transparent communication with regular updates and feedback loops.</p>
                        </div>
                    </div>
                     <!-- Step 3 -->
                    <div class="grid md:grid-cols-2 gap-12 items-center fade-in" style="transition-delay: 0.4s">
                        <div class="flex justify-center">
                           <lottie-player 
                                src="https://lottie.host/99723a96-413e-42c2-b13c-4428c0e66d48/o5r5aL3eJm.json" 
                                background="transparent" 
                                speed="1" 
                                style="width: 100%; max-width: 400px; height: auto;" 
                                loop 
                                autoplay
                            ></lottie-player>
                        </div>
                        <div>
                            <span class="text-sky-500 font-bold" data-lang-en="Step 3" data-lang-es="Paso 3">Step 3</span>
                            <h3 class="text-2xl font-bold text-blue-900 my-2" data-lang-en="Deployment & Launch" data-lang-es="Despliegue y Lanzamiento">Deployment & Launch</h3>
                            <p class="text-slate-600" data-lang-en="We meticulously handle the launch process, from server configuration to final testing, ensuring a seamless and successful transition to the live environment." data-lang-es="Gestionamos meticulosamente el proceso de lanzamiento, desde la configuración del servidor hasta las pruebas finales, asegurando una transición fluida y exitosa al entorno de producción.">We meticulously handle the launch process, from server configuration to final testing, ensuring a seamless and successful transition to the live environment.</p>
                        </div>
                    </div>
                     <!-- Step 4 -->
                    <div class="grid md:grid-cols-2 gap-12 items-center fade-in" style="transition-delay: 0.6s">
                        <div class="md:order-last flex justify-center">
                           <lottie-player 
                                src="https://lottie.host/a6836458-37d4-4235-9856-42775a999712/oB76uKcF6H.json" 
                                background="transparent" 
                                speed="1" 
                                style="width: 100%; max-width: 400px; height: auto;" 
                                loop 
                                autoplay
                            ></lottie-player>
                        </div>
                        <div>
                            <span class="text-sky-500 font-bold" data-lang-en="Step 4" data-lang-es="Paso 4">Step 4</span>
                            <h3 class="text-2xl font-bold text-blue-900 my-2" data-lang-en="Support & Growth" data-lang-es="Soporte y Crecimiento">Support & Growth</h3>
                            <p class="text-slate-600" data-lang-en="Our partnership doesn't end at launch. We provide ongoing support, monitoring, and maintenance to ensure your solution runs smoothly and evolves with your business." data-lang-es="Nuestra alianza no termina con el lanzamiento. Ofrecemos soporte, monitorización y mantenimiento continuo para asegurar que tu solución funcione sin problemas y evolucione con tu negocio.">Our partnership doesn't end at launch. We provide ongoing support, monitoring, and maintenance to ensure your solution runs smoothly and evolves with your business.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Why Choose Us -->
        <section class="py-20 bg-slate-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in">
                    <h2 class="text-3xl md:text-4xl font-bold text-blue-900" data-lang-en="Why Partner with Nextcoding?" data-lang-es="¿Por Qué Elegir Nextcoding?">Why Partner with Nextcoding?</h2>
                    <p class="mt-3 text-slate-600 max-w-2xl mx-auto" data-lang-en="We are more than just developers; we are architects of digital solutions that deliver real value." data-lang-es="Somos más que desarrolladores; somos arquitectos de soluciones digitales que entregan valor real.">We are more than just developers; we are architects of digital solutions that deliver real value.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-lg shadow-sm hover:shadow-xl transition-all fade-in">
                        <h3 class="text-xl font-bold text-blue-900 mb-3" data-lang-en="Expert Team" data-lang-es="Equipo Experto">Expert Team</h3>
                        <p class="text-slate-600" data-lang-en="Our team consists of certified professionals with years of experience in diverse technology stacks." data-lang-es="Nuestro equipo está formado por profesionales certificados con años de experiencia en diversas tecnologías.">Our team consists of certified professionals with years of experience in diverse technology stacks.</p>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-sm hover:shadow-xl transition-all fade-in" style="transition-delay: 0.2s">
                        <h3 class="text-xl font-bold text-blue-900 mb-3" data-lang-en="Custom Solutions" data-lang-es="Soluciones a Medida">Custom Solutions</h3>
                        <p class="text-slate-600" data-lang-en="We don't believe in one-size-fits-all. Every project is tailored to meet your unique goals." data-lang-es="No creemos en soluciones genéricas. Cada proyecto se adapta para cumplir tus objetivos únicos.">We don't believe in one-size-fits-all. Every project is tailored to meet your unique goals.</p>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-sm hover:shadow-xl transition-all fade-in" style="transition-delay: 0.4s">
                        <h3 class="text-xl font-bold text-blue-900 mb-3" data-lang-en="Client-Focused" data-lang-es="Enfoque en el Cliente">Client-Focused</h3>
                        <p class="text-slate-600" data-lang-en="Your success is our priority. We maintain transparent communication throughout the entire process." data-lang-es="Tu éxito es nuestra prioridad. Mantenemos una comunicación transparente durante todo el proceso.">Your success is our priority. We maintain transparent communication throughout the entire process.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gemini AI Idea Generator Section -->
        <section id="ai-powered-strategy" class="py-20 ai-section-bg">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-blue-900 fade-in" data-lang-en="Discover Your Next" data-lang-es="Descubre tu Próximo">Discover Your Next <span class="gradient-text" data-lang-en="Innovative Project" data-lang-es="Proyecto Innovador">Innovative Project</span></h2>
                <p class="mt-4 text-slate-600 max-w-3xl mx-auto fade-in" data-lang-en="Don't know where to start? Describe your business or a challenge, and our AI will give you personalized ideas, powered by Gemini." data-lang-es="¿No sabes por dónde empezar? Describe tu negocio o un desafío, y nuestra IA te dará ideas personalizadas, potenciada por Gemini.">Don't know where to start? Describe your business or a challenge, and our AI will give you personalized ideas, powered by Gemini.</p>
                <div class="max-w-2xl mx-auto mt-8 bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-slate-200 fade-in" style="transition-delay: 0.2s">
                    <div class="flex flex-col gap-4">
                        <textarea id="business-description" rows="3" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500 transition" 
                        data-lang-placeholder-en="Ex: I own a chain of coffee shops and want to increase customer loyalty."
                        data-lang-placeholder-es="Ej: Soy dueño de una cadena de cafeterías y quiero fidelizar a mis clientes."></textarea>
                        <button id="generate-ideas-btn" class="bg-sky-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-sky-600 transition-all duration-300 hover:scale-105 transform flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-sky-500/20">
                            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm0-6a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM12 2v2m0 16v2m-7.07-2.93 1.41 1.41M17.66 6.34l1.41 1.41M2 12h2m16 0h2m-2.93-7.07-1.41 1.41M6.34 17.66l-1.41 1.41"/></svg>
                            <span data-lang-en="Generate Ideas with AI" data-lang-es="Generar Ideas con IA">Generar Ideas con IA</span>
                        </button>
                    </div>
                </div>
                <div id="idea-results" class="mt-12"></div>
            </div>
        </section>

        <!-- New Section: Contact Form -->
        <section id="contact" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in">
                    <h2 class="text-3xl md:text-4xl font-bold text-blue-900" data-lang-en="Let's Start a Project Together" data-lang-es="Comencemos un Proyecto Juntos">Comencemos un Proyecto Juntos</h2>
                    <p class="mt-3 text-slate-600 max-w-2xl mx-auto" data-lang-en="Fill out the form below or contact us directly. We usually respond within 24 hours." data-lang-es="Rellena el siguiente formulario o contáctanos directamente. Normalmente respondemos en 24 horas.">Rellena el siguiente formulario o contáctanos directamente. Normalmente respondemos en 24 horas.</p>
                </div>
                
                <div class="max-w-5xl mx-auto contact-form-card grid md:grid-cols-2">
                    <!-- Contact Information Side -->
                    <div class="bg-blue-800 p-10 rounded-t-xl md:rounded-l-xl md:rounded-tr-none text-white flex flex-col justify-between">
                        <div>
                            <h3 class="text-2xl font-bold mb-4" data-lang-en="Contact Information" data-lang-es="Información de Contacto">Información de Contacto</h3>
                            <p class="text-blue-200 mb-8" data-lang-en="We are ready to discuss your needs and define the best digital strategy." data-lang-es="Estamos listos para discutir tus necesidades y definir la mejor estrategia digital.">Estamos listos para discutir tus necesidades y definir la mejor estrategia digital.</p>
                            
                            <div class="space-y-4">
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mr-3 text-sky-400 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                                    <div>
                                        <p class="font-semibold" data-lang-en="Email" data-lang-es="Correo Electrónico">Email</p>
                                        <p class="text-blue-300">contact@nextcoding.com</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mr-3 text-sky-400 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
                                    <div>
                                        <p class="font-semibold" data-lang-en="Phone" data-lang-es="Teléfono">Teléfono</p>
                                        <p class="text-blue-300">+1 (555) 123-4567</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mr-3 text-sky-400 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                                    <div>
                                        <p class="font-semibold" data-lang-en="Office" data-lang-es="Oficina">Oficina</p>
                                        <p class="text-blue-300">123 Tech Avenue, Silicon Valley, CA</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Form Side -->
                    <div class="p-10">
                        <form action="YOUR_FORM_SUBMISSION_ENDPOINT" method="POST" class="space-y-6">
                            <div class="grid sm:grid-cols-2 gap-6">
                                <div>
                                    <label for="name" class="block text-sm font-medium text-slate-700" data-lang-en="Full Name" data-lang-es="Nombre Completo">Full Name</label>
                                    <input type="text" id="name" name="name" required class="mt-1 w-full border border-slate-300 rounded-lg shadow-sm p-3 focus:ring-sky-500 focus:border-sky-500">
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-medium text-slate-700" data-lang-en="Email Address" data-lang-es="Correo Electrónico">Email Address</label>
                                    <input type="email" id="email" name="email" required class="mt-1 w-full border border-slate-300 rounded-lg shadow-sm p-3 focus:ring-sky-500 focus:border-sky-500">
                                </div>
                            </div>
                            
                            <div>
                                <label for="subject" class="block text-sm font-medium text-slate-700" data-lang-en="Subject" data-lang-es="Asunto">Subject</label>
                                <input type="text" id="subject" name="subject" required class="mt-1 w-full border border-slate-300 rounded-lg shadow-sm p-3 focus:ring-sky-500 focus:border-sky-500">
                            </div>

                            <div>
                                <label for="message" class="block text-sm font-medium text-slate-700" data-lang-en="Your Message" data-lang-es="Tu Mensaje">Your Message</label>
                                <textarea id="message" name="message" rows="4" required class="mt-1 w-full border border-slate-300 rounded-lg shadow-sm p-3 focus:ring-sky-500 focus:border-sky-500"></textarea>
                            </div>
                            
                            <button type="submit" class="w-full bg-sky-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-600 transition-transform hover:scale-[1.01] shadow-md shadow-sky-500/30" data-lang-en="Send Message" data-lang-es="Enviar Mensaje">Send Message</button>
                            <p class="text-xs text-slate-500 text-center" data-lang-en="*Note: Replace 'YOUR_FORM_SUBMISSION_ENDPOINT' with your actual backend URL (e.g., Formspree, Netlify Forms, custom server)." data-lang-es="*Nota: Reemplaza 'YOUR_FORM_SUBMISSION_ENDPOINT' con tu URL de backend real (ej: Formspree, Netlify Forms, servidor custom).">*Note: Replace 'YOUR_FORM_SUBMISSION_ENDPOINT' with your actual backend URL (e.g., Formspree, Netlify Forms, custom server).</p>
                        </form>
                    </div>
                </div>
            </div>
        </section>


        <!-- Section: Testimonials -->
        <section class="py-20 bg-slate-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in">
                    <h2 class="text-3xl md:text-4xl font-bold text-blue-900" data-lang-en="What Our Clients Say" data-lang-es="Lo que Dicen Nuestros Clientes">What Our Clients Say</h2>
                </div>
                <div class="max-w-3xl mx-auto relative fade-in" style="transition-delay: 0.2s">
                    <div class="overflow-hidden">
                        <div id="testimonial-slider" class="testimonial-slider">
                            <!-- Testimonial 1 -->
                            <div class="testimonial-item text-center px-8">
                                <p class="text-xl text-slate-700 italic" data-lang-en='"Nextcoding transformed our workflow. Their automation solution saved us countless hours and significantly reduced errors."' data-lang-es='"Nextcoding transformó nuestro flujo de trabajo. Su solución de automatización nos ahorró incontables horas y redujo los errores significativamente."'>"Nextcoding transformed our workflow. Their automation solution saved us countless hours and significantly reduced errors."</p>
                                <p class="mt-4 font-bold text-blue-800">John Doe</p>
                                <p class="text-sm text-slate-500" data-lang-en="CEO of Innovate Corp" data-lang-es="CEO de Innovate Corp">CEO of Innovate Corp</p>
                            </div>
                            <!-- Testimonial 2 -->
                            <div class="testimonial-item text-center px-8">
                                <p class="text-xl text-slate-700 italic" data-lang-en='"The custom software they developed is the backbone of our operations. Incredibly reliable and perfectly tailored to our needs."' data-lang-es='"El software a medida que desarrollaron es la columna vertebral de nuestras operaciones. Increíblemente fiable y perfectamente adaptado a nuestras necesidades."'>"The custom software they developed is the backbone of our operations. Incredibly reliable and perfectly tailored to our needs."</p>
                                <p class="mt-4 font-bold text-blue-800">Jane Smith</p>
                                <p class="text-sm text-slate-500" data-lang-en="Operations Manager at TechSolutions" data-lang-es="Gerente de Operaciones en TechSolutions">Operations Manager at TechSolutions</p>
                            </div>
                        </div>
                    </div>
                    <button id="prev-testimonial" class="absolute top-1/2 -translate-y-1/2 left-0 bg-white/50 hover:bg-white rounded-full p-2 shadow-md"><svg class="w-6 h-6 text-blue-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg></button>
                    <button id="next-testimonial" class="absolute top-1/2 -translate-y-1/2 right-0 bg-white/50 hover:bg-white rounded-full p-2 shadow-md"><svg class="w-6 h-6 text-blue-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></button>
                </div>
            </div>
        </section>

        <!-- Final CTA -->
        <section class="py-20 bg-sky-500">
             <div class="container mx-auto px-6 text-center">
                 <h2 class="text-3xl md:text-4xl font-bold text-white fade-in" data-lang-en="Ready to Start Your Next Project?" data-lang-es="¿Listo para Empezar tu Próximo Proyecto?">Ready to Start Your Next Project?</h2>
                 <p class="mt-3 text-sky-100 max-w-2xl mx-auto fade-in" data-lang-en="Let's talk about how our technology solutions can help you achieve your business goals." data-lang-es="Hablemos sobre cómo nuestras soluciones tecnológicas pueden ayudarte a alcanzar tus metas de negocio.">Let's talk about how our technology solutions can help you achieve your business goals.</p>
                 <a href="#contact" class="mt-8 inline-block bg-white text-sky-600 font-bold py-3 px-8 rounded-full text-lg hover:bg-slate-100 transition-transform hover:scale-105 fade-in" style="transition-delay: 0.2s" data-lang-en="Contact Us Now" data-lang-es="Contáctanos Ahora">Contact Us Now</a>
             </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-blue-900 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; <span id="year"></span> Nextcoding. <span data-lang-en="All rights reserved." data-lang-es="Todos los derechos reservados.">All rights reserved.</span></p>
            <p class="text-sm text-blue-300 mt-2" data-lang-en="Technology Solutions for the Future" data-lang-es="Soluciones Tecnológicas para el Futuro">Technology Solutions for the Future</p>
        </div>
    </footer>

    <script src="lang.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year in footer
            document.getElementById('year').textContent = new Date().getFullYear();
            
            // Header scroll effect
            const header = document.getElementById('header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
            });

            // Mobile Menu
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => { 
                mobileMenu.classList.toggle('hidden'); 
            });

            // Testimonial Slider Logic
            const slider = document.getElementById('testimonial-slider');
            if (slider) {
                const prevBtn = document.getElementById('prev-testimonial');
                const nextBtn = document.getElementById('next-testimonial');
                const items = slider.querySelectorAll('.testimonial-item');
                let currentIndex = 0;
                
                function updateSlider() { 
                    slider.style.transform = `translateX(-${currentIndex * 100}%)`; 
                }
                
                prevBtn.addEventListener('click', () => { 
                    currentIndex = (currentIndex > 0) ? currentIndex - 1 : items.length - 1; 
                    updateSlider(); 
                });
                
                nextBtn.addEventListener('click', () => { 
                    currentIndex = (currentIndex < items.length - 1) ? currentIndex + 1 : 0; 
                    updateSlider(); 
                });
            }
            
            // Scroll animations
            const fadeElements = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            
            fadeElements.forEach(element => {
                observer.observe(element);
            });
            
            // Gemini AI logic
            const generateIdeasBtn = document.getElementById('generate-ideas-btn');
            const businessDescriptionInput = document.getElementById('business-description');
            const ideaResultsContainer = document.getElementById('idea-results');

            if (generateIdeasBtn) {
                 // --- IMPORTANT: Ensure apiKey is an empty string for execution in this environment ---
                 const apiKey = "AIzaSyCVmzehJnxU_Q8zSG5ipDMJD5644D8h8ww"; 
                 // -----------------------------------------------------------------------------------
                
                 const updatePlaceholder = () => {
                     const placeHolderEN = businessDescriptionInput.getAttribute('data-lang-placeholder-en');
                     const placeHolderES = businessDescriptionInput.getAttribute('data-lang-placeholder-es');
                     businessDescriptionInput.placeholder = (localStorage.getItem('lang') || 'en') === 'es' ? placeHolderES : placeHolderEN;
                 };

                 // Initial placeholder setup (called once lang.js has set the initial language)
                 setTimeout(updatePlaceholder, 100); 

                generateIdeasBtn.addEventListener('click', async () => {
                    const description = businessDescriptionInput.value.trim();
                    const currentLang = localStorage.getItem('lang') || 'en';

                    if (!description) {
                        ideaResultsContainer.innerHTML = `<p class="text-red-600 font-medium">${currentLang === 'es' ? 'Por favor, describe tu negocio o desafío.' : 'Please, describe your business or challenge.'}</p>`;
                        return;
                    }
                    
                    const loadingText = currentLang === 'es' ? 'Nuestra IA está analizando tu caso...' : 'Our AI is analyzing your case...';
                    ideaResultsContainer.innerHTML = `<div class="flex justify-center items-center flex-col"><svg class="animate-spin h-8 w-8 text-sky-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-4 text-slate-600">${loadingText}</p></div>`;
                    generateIdeasBtn.disabled = true;

                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                    
                    // Set system prompt to generate titles and descriptions in the current language
                    const systemPrompt = `You are an expert and creative IT consultant from the company 'Nextcoding'. Your goal is to inspire potential clients by showing them how technology can solve their problems and boost their business. Generate 3 concrete and actionable technology project ideas based on the client's description. The response MUST be a single JSON object. The content (titles and descriptions) MUST be written in ${currentLang === 'es' ? 'Spanish' : 'English'}.`;
                    const userQuery = `Client's business/challenge description: "${description}"`;

                    const payload = {
                        contents: [{ parts: [{ text: userQuery }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] },
                        generationConfig: {
                            responseMimeType: "application/json",
                            responseSchema: {
                                type: "OBJECT",
                                properties: { "ideas": { type: "ARRAY", items: { type: "OBJECT", properties: { "title": { "type": "STRING" }, "description": { "type": "STRING" } }, required: ["title", "description"] } } }, required: ["ideas"]
                            }
                        }
                    };

                    const fetchWithRetry = async (url, options, retries = 3) => {
                        for (let i = 0; i < retries; i++) {
                            try {
                                const response = await fetch(url, options);
                                if (response.ok) return response;
                                // Throw an error for non-200 status codes
                                throw new Error(`HTTP error! Status: ${response.status}`);
                            } catch (error) {
                                if (i < retries - 1) {
                                    // Exponential backoff
                                    const delay = Math.pow(2, i) * 1000;
                                    await new Promise(resolve => setTimeout(resolve, delay));
                                } else {
                                    throw error;
                                }
                            }
                        }
                    };

                    try {
                        const response = await fetchWithRetry(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                        const result = await response.json();
                        const candidate = result.candidates?.[0];
                        const jsonText = candidate?.content?.parts?.[0]?.text;
                        if (!jsonText) throw new Error("No valid content received from AI.");
                        
                        // Clean the JSON string (sometimes LLMs wrap it in markdown block)
                        const cleanJsonText = jsonText.replace(/```json\s*|```/g, '').trim();
                        const parsedJson = JSON.parse(cleanJsonText);

                        displayIdeas(parsedJson.ideas, currentLang);
                    } catch (error) {
                        console.error("Error calling Gemini API:", error);
                        ideaResultsContainer.innerHTML = `<p class="text-red-600 font-medium">${currentLang === 'es' ? 'Lo sentimos, ocurrió un error al generar las ideas. Por favor, inténtalo de nuevo más tarde.' : 'Sorry, an error occurred while generating ideas. Please try again later.'}</p>`;
                    } finally {
                        generateIdeasBtn.disabled = false;
                    }
                });

                function displayIdeas(ideas, lang) {
                    if (!ideas || ideas.length === 0) {
                        ideaResultsContainer.innerHTML = `<p class="text-slate-600">${lang === 'es' ? 'No se pudieron generar ideas. Intenta ser más específico.' : 'Could not generate ideas. Try being more specific.'}</p>`;
                        return;
                    }
                    const titleText = lang === 'es' ? 'Aquí tienes 3 Ideas Potenciadas por IA para Empezar:' : 'Here are 3 AI-Powered Ideas to Get You Started:';
                    let html = `<h3 class="text-2xl font-bold text-blue-900 mb-8">${titleText}</h3><div class="grid md:grid-cols-3 gap-8 text-left">`;
                    ideas.forEach((idea, index) => {
                        // Apply a staggered animation delay
                        html += `<div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-sky-400 fade-in" style="transition-delay: ${0.1 * index}s"><h4 class="text-xl font-bold text-blue-900 mb-2">${idea.title}</h4><p class="text-slate-600">${idea.description}</p></div>`;
                    });
                    html += '</div>';
                    ideaResultsContainer.innerHTML = html;

                    // Ensure newly added ideas run the fade-in animation immediately if they are in view
                    const newFadeElements = ideaResultsContainer.querySelectorAll('.fade-in');
                    newFadeElements.forEach(element => {
                        // A simpler way to trigger animation for newly inserted content
                        element.classList.add('visible'); 
                    });
                }
            }
        });
    </script>
</body>
</html>